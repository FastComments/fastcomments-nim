#
# fastcomments
# 
# No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
# The version of the OpenAPI document: 0.0.0
# 
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_vote_response_user

type Status* {.pure.} = enum
  Success
  Failed
  PendingVerification

type VoteResponse* = object
  ## 
  status*: Status
  voteId*: Option[string]
  isVerified*: Option[bool]
  user*: Option[VoteResponseUser]
  editKey*: Option[string]

func `%`*(v: Status): JsonNode =
  result = case v:
    of Status.Success: %"success"
    of Status.Failed: %"failed"
    of Status.PendingVerification: %"pending-verification"
func `$`*(v: Status): string =
  result = case v:
    of Status.Success: $("success")
    of Status.Failed: $("failed")
    of Status.PendingVerification: $("pending-verification")

proc to*(node: JsonNode, T: typedesc[Status]): Status =
  if node.kind != JString:
    raise newException(ValueError, "Expected string for enum Status, got " & $node.kind)
  let strVal = node.getStr()
  case strVal:
  of $("success"):
    return Status.Success
  of $("failed"):
    return Status.Failed
  of $("pending-verification"):
    return Status.PendingVerification
  else:
    raise newException(ValueError, "Invalid enum value for Status: " & strVal)

